
SISO vector decoder for IRA-LDPC codes in VHDL

### Quick start

Prerequisites:

* [GHDL](https://github.com/ghdl/ghdl) to simulate VHDL.
* [GNU Make](https://www.gnu.org/software/make/) to use the [Makefile](Makefile) for building.
* [GTKWave](http://gtkwave.sourceforge.net/) to view the waveforms generated by the simulation.
* Optional: C++ compiler to build the test vector generators.

Run ```make``` to build and simulate. Compare resulting ```soft_output.txt``` with ```soft_input.txt```.

Run ```make vcd``` to generate waveforms and watch them via ```gtkwave dec_vector_tb.vcd```.

### TODO

* Write disable flags to resolve write conflicts with DDSMs
* Reference decoder in C++
* Tool for generating code table entries
* Tool for enforcing below rules for code table entries
* Interface for switching or replacing code table
* Shortening the pipeline if timing analysis allows it
* Self-Corrected Min-Sum
* Can the interface be improved?

### DONE

### [ldpc.vhd](ldpc.vhd)

LDPC decoder configuration

### [table.txt](table.txt)

Transformed DVB T2 B7 code table for vector length of 15

The following rules must apply to the table for the decoder to work correctly:

* Rows containing DDSMs must keep locations with same offset consecutive.
* Last column shall not have a location that is part of a DDSM.
* Order of location offsets must avoid data hazards caused by the pipeline.
* Keep same count rows consecutive to avoid pipeline stalls.

### [table.vhd](table.vhd)

Quick and dirty code table generated from [table.txt](table.txt)

### [dec_vector_tb.vhd](dec_vector_tb.vhd)

testbench for the decoder

### [dec_vector.vhd](dec_vector.vhd)

SISO vector decoder for IRA-LDPC codes

### [cnp_vector.vhd](cnp_vector.vhd)

vector check node processor

Look in [cnp](https://github.com/aicodix/cnp) repository for testbench.

### [buf_vector.vhd](buf_vector.vhd)

buffer for the vector check node processor

### [generate_random_noise.cc](generate_random_noise.cc)

Generate random noise

### [rol_vector.vhd](rol_vector.vhd)

rotate left vector elements

### [ror_vector.vhd](ror_vector.vhd)

rotate right vector elements

### [bnl_vector.vhd](bnl_vector.vhd)

bit node links for the vector decoder

### [cnt_vector.vhd](cnt_vector.vhd)

counts for the vector decoder

### [loc_vector.vhd](loc_vector.vhd)

locations for the vector decoder

### [var_vector.vhd](var_vector.vhd)

variable nodes for the vector decoder

### [wdf_vector.vhd](wdf_vector.vhd)

write disable flags for the vector decoder

